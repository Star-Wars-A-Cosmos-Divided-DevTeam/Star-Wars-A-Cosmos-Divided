Type = Particles
Def = &<../../def/smoke/thruster_rocket_smoke_def.rules>
EmitterDef
{
	EmitPerSecond = 18 //v:25	//d:120	//s:90
	EmitPerOneShot
	{
		Min = 0
		Max = 0
	}
	PreInitializers
	[
		{
			Type = SetRandom
			DataOut = location
			ValueType = Vector2
			FromValue
			{
				X = 0
				Y = -0.01 //v:-0.012	//d:-0.012	//s:-0.01
			}
			ToValue
			{
				X = 0
				Y = 0.01 //v:0.012		//d:0.012	//s:0.01
			}
			Name = ""
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = SetRandom
			DataOut = base_scale
			ValueType = Float
			FromValue = 3	//v:3	//d:4	//s:4
			ToValue = 5  	//v:5	//d:5	//s:5
			Name = "random base scale"
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = ScaleFromIntensity
			ScaleOut = intensity_scale
			ScaleFactor = 1  //v:1
			IntensityExponent = 0.5	//v:0.5	//d:0.6	//s:0.6
			Name = "get intensity scale"
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = ScaleFromIntensity
			ScaleOut = intensity_velocity
			ScaleFactor = 35  		//v:42	//d:60	//s:50
			IntensityExponent = 0.8	//v:0.8	//d:1	//s:1
			Name = "get instensity velocity"
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = VelocityFromIntensity
			VelocityOut = positionOffset
			VelocityFactor
			{
				X = 0.005	//v:0.005
				Y = 0  		//v:0
			}
			IntensityExponent = 1   //v:1
			Name = "position offset for velocity"
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = Operator
			DataType = Vector2
			AIn = location
			BIn = positionOffset
			ResultOut = offsetLocation
			Operator = Add
			Name = "offset velocity location"
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = SetRandomVelocityFromPoint
			LocationIn = offsetLocation
			VelocityOut = base_velocity
			Speed
			{
				Min = 1  	//v:1
				Max = 1  	//v:1
			}
			AwayFromPoint
			{
				X = -0.1	//v:-0.1	//d:-0.06	//s:-0.06
				Y = 0		//v:0		//d:0		//s:0
			}
			ConvertPointToWorldSpace = false
			Name = "get base velocity"
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = ScalarOperator
			AIn = intensity_velocity
			DataType = Vector2
			BIn = base_velocity
			ResultOut = base_velocity
			Operator = Multiply
			Name = "apply intensity velocity"
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = SetRandom
			DataOut = scale2
			ValueType = Vector2
			FromValue
			{
				X = 0.7	//v:0.7	//d:0.7	//s:0.7
				Y = 0.7	//v:0.7	//d:0.7	//s:0.7
			}
			ToValue
			{
				X = 1.3	//v:1.3	//d:1.3	//s:1.3
				Y = 1.3	//v:1.3	//d:1.3	//s:1.3
			}
			Name = "random scale2"
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = Operator
			DataType = Float
			AIn = base_scale
			BIn = intensity_scale
			ResultOut = base_scale
			Operator = Multiply
			Name = "apply intensity Scale"
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = OperatorConst
			AIn = intensity_scale
			ResultOut = clamped_intensity
			Operator = Min
			ValueType = Float
			Value = 1
			Name = "Create clamped intensity"
			Enabled = true
			UpdateAfterInit = false
		}
		{
			Type = Lerp
			LerpIn = clamped_intensity
			DataOut = intensity_alpha
			Invert = false
			ValueType = Color
			FromValue
			{
				Rf = 1
				Gf = 1
				Bf = 1
				Af = 0
			}
			ToValue
			{
				Rf = 1
				Gf = 1
				Bf = 1
				Af = 1
			}
			Name = "apply intensity scale to alpha"
			Enabled = true
			UpdateAfterInit = false
		}
	]
	PostInitializers[]
}
Bucket = Lower1
UseRealTime = false
PenetratingBucket
MinIntensity = 0.2
IsFancy = true
IsFancyLight = false
IsSimpleLight = false
IsSimple = false
Sharing = Global
UnsharedRenderInWorldSpace = false
DontEmitWhenOffScreen = true
DontEmitWhenOffScreenSizeInflate = 3
UseCustomShapeForOffScreenCheck = false
MaxEmissionZoom = 3.4028235E+38
MaxParticleCount = 2500
ScaleEmissionWithIntensity = true
ScaleEmissionWithBeamLength = false
ScaleEmissionWithWorldVelocity = false
ScaleEmissionWithPartSize = false
ScaleEmissionWithPartPhysicalSize = false
CaptureBackBuffer = false
Filter
{
	Ships = true
	OperationalHealth = true
	StructuralHealth = true
	OnlyPartCategories
	ExcludePartCategories
	Shields = true
	Bullets = true
	OnlyBulletCategories
	ExcludeBulletCategories
	Crew = true
	Nuggets = true
	IgnoreInvulnerability = true
	Self
	TargetedSelf
	Friendlies = true
	TargetedFriendlies
	Enemies = true
	TargetedEnemies
	Neutrals = true
	TargetedNeutrals
	Junk = true
	TargetedJunk
	Deconstruction
}
Delay = 0
IgnoreIntensity = false
